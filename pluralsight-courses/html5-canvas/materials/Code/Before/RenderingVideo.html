<!doctype html>
<html>
    <head>
	    <script>
			var timerID;
			window.onload = function() {
				canvas = document.getElementById('myCanvas');
				ctx = canvas.getContext('2d');

                const video = document.getElementById('video');

                video.addEventListener('play', () => {
                
                    timerId = setInterval(() => {
                        ctx.drawImage(video, 5, 5, 270, 125)
                    }, 30);
                })
                video.addEventListener('pause', () => {
                    stopTimer();
                })
                video.addEventListener('end', () => {
                    stopTimer();
                })
			};

			function stopTimer() {
				window.clearInterval(timerID);
			}


		</script>
	</head>
	<body>
		Video:
		<br />
		<video id="video" controls="true" width="270" height="200"
			   autoplay="true">
		  <source
			src="https://storage.googleapis.com/coverr-main/mp4/Mini-boat.mp4"
			type='video/mp4' />
		</video>
		<br />
		Canvas:
		<br />
		<canvas id="myCanvas" width="270" height="200" />
	</body>
</html>
